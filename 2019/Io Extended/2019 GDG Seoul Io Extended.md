# 2019 GDG Seoul Io Extended

## 소개
2019년 세종대학교 광개토대관에서 열린 2019 GDG Extended Io Extended 에서 여러 발표들을 보고 들은 것을 메모한 문서입니다.

## 모두를 위한 안드로이드 새소식 - 양찬석(구글 코리아)
* 안드로이드 Q에서 가장 많이 바뀐 점은 사용자 보안이다.

* 저장소 관련은 외부 저장소가 있긴 있지만 개별 앱만 접근할 수 있는 저장소가 생겼다.

* 나머지는 미디어, 음성 저장소로 나뉘어 저장소가 생겼는데 원래 쓰던대로 쓰면 된다.

* 다운로드 저장소에 있는 파일은 다운 받은 앱은 그냥 쓰면 되지만 다른 앱들은 도큐먼트를 통해서 읽어야 한다.

* 이렇게 저장소가 바뀌었지만 현실적으로 바꾸기는 어렵다고 생각되어 Scoped mode을 통하여 예전 저장소 기능을 사용할 수 있지만 R부터는 그냥 바로 적용된다.

* 백그라운드 위치를 얻어야될 때 시스템 자체 내에서 백그라운드에서 위치를 가져오는 권한을 하겠냐고 물어보데 된다. 그러니 이제 위치 정보가 필요한 경우 새로 비즈니스 로직을 짜는 것이 좋다.

* Location Permissions Reminder를 통해서 유저는 백그라운드에서 위치 정보를 많이 가져가는 앱을 유저가 알 수 있게 되었다.

* 앞으로 고유식별자를 사용하는 것들은 이제 더 이상 사용할 수 없다.

* Q부터 백그라운드 액티비티를 실행하는 것이 불가능해진다. 그러므로 이제 노티피케이션을 사용하는 것을 권장한다.

* 시스템 UI는 Dark theme이 추가 되었다. 퀵 페널을 한번만 눌러도 다크 테마가 적용된다. 그러니까 빨리 적용해야 한다.

* Force Dark를 통해서 다크모드를 적용할 수는 있지만 이미지 같은 UI도 색상이 반전이 되어서 그냥 Dark theme을 적용하는 것이 좋다. Web View도 Dark theme를 지원한다.

* UI적으로 좀 더 바뀐 것은 체스쳐 UI다. 딱히 개발자가 신경 쓸 점은 없지만 UI가 겹치게 되면 제스쳐시 이상하게 될 수 있으므로 이 점은 신경 쓰는 것이 좋다.

* 공유기능이 좀 더 좋아졌다. 공유기능으 많이 사용하면 찾아보는게 좋다.

* Gentle Notification을 사용하면 소리도 안나고 진동도 안되고 앱 아이콘도 안떠서 사용자가 신경쓰지 않아도 되긴하지만 사용자가 이에 대해 알림이 제 때 오지 않았다고 불만을 토로할 수 있다.

* 플랫폼적으로 바뀌었다 ART work가 이 중 하나다. Interpreter + JIT + AOT를 전부 사용한다. 이를 통해서 앱성능을 더 좋게 한다.

* 하지만 앱 다운시 바로 실행을 시키면 앱이 느려지는데 google은 이를 염려하고 cloud를 통해서 플랫폼에 맞게 앱설치시 같이 컴파일 최적화 기능이 같이 내려가 앱이 빨라진다.

* os가 더 이상 포크하지 않고 바로 앱을 pull하여 사용한다.

* 이제 안드로이드 프레임워크 자체가 구글 플레이 스토어를 통해서 자동 업데이트가 된다.

* 이 것이 무슨 뜻이냐면 permission controler도 함꼐 업데이트 되어 구글의 정책이 바뀔 시 바로 적용될 수 있다는 뜻이다.

* Camera X가 생겼다. 안드로이드에서 Camera 앱을 만들기 어려운데 이제 Camera X 라이브러리를 통해서 이를 사용하여 앱을 만들 수 있다. 프리뷰, 캡쳐 등의 기능을 모두 지원한다.

* Camera X Extension을 통해서 고급 카메라 기능을 사용할 수 있다.

* Jetpack Security가 생겼다. SharedPreferences에서도 보안을 신경쓸 수 있다.

* 구글 플레이에서 10년동안 APK를 사용해서 앱을 배포해왔지만 이제는 App Budle을 사용하여 배포하기를 권장한다. 성능이 더 좋아지기 때문이다.

* Android vital를 통해서 앱의 크기를 좀 더 줄일 수 있다.

* 앱에서 구글 플레이를 들어가게 해서 업데이트를 시키는 것이 아니라 그냥 바로 in app update 시킬 수 있게 되었다.

* 구글 콘솔의 서명 키를 한번 정도 바꿀 수 있다. 누가 계정 뺏었으면... 해야겠죠

* AIDL, BL1 등 과 같은 빌딩 라이브러리를 2년씩만 지원하게 되었고 이 때문에 마이그레이션하는 것을 추천한다.

* **정리**: 전체적으로 사용자를 좀 더 생각하는 방향으로 바뀌었다. 보안, 편의, 접근성이 그 예다. 플레이스토어는 앱의 성능을 좀 더 중시하여 발전되었다.
* **느낀점**: 제목 그대로 모두를 위한 안드로이드 새소식을 알려주셨다. 전반적으로 바뀐 내용에 대해 알려주셨고 정말 많은 내용을 알 수 있었다.

## Material Design at Google IO x Design Sprint - 김은정(GDG organizer) 
* 새로운 점은 역시 Dark Theme이다. 또 Sound Design이다. 마지막은 AL, ML kit를 연동한 Design이다.

* Google IO에서 구글 디자이너에게 리뷰를 받을 수 있는 기회가 있었다.

* Inclusive Design이 가장 인상 깊었다. 모두를 위한 디자인. 장애, 비장애인 모두 같이 사용할 수 있는 디자인.

* Google IO의 Sand Box에서 이 Inclusive Design을 체험할 수 있다.

* 이런 Inclusive Design을 배우면서 구글이 접근성에 대해 얼마나 신경을 쓰고 있는지 알 수 있었다.

* Live Transcribe를 통해서 앱에서 나오는 사운드를 자막으로 나타냄으로 구글이 얼마나 이런 점에 포커싱하고 있는지 알 수 있었다.

* Design Sprint는 Design Thinking과 같은 맥락으로 좀 더 단기적으로 얼마나 중요한 점을 잘 지키고 있는지 알 수 있는 툴이다. 한번 해보면 좋을 것 같다.

* Dark Theme Guide line를 통해서 Dark Theme를 적용할 수 있다. 

* 토글을 통해서 다크 테마를 키거나 끌 수 있다. 그리고 다크 테마의 색상은 #121212 즉, 블랙과 그레이의 중간 색을 사용하여 그림자를 주었을 때 좀 더 깊이감을 줄 수 있도록 한다.

* 그리고 다크 테마를 사용할 시에는 가독성도 고려해야하는데 채도는 낮은 색을 사용해야 어두운 곳에서 가독성이 올라간다.

* ML kit에서 어떻게 머터리얼 디자인을 적용시키나 했으나 theme을 지원하며 input, search, Communicating 등의 과정을 디자인으로 나타낼 수 있다.

* 발표자님은 IKEA, Adidas 앱이 ML kit와 머터리얼 디자인을 잘 적용한 예시 같다고 하셨다. 디자이너분들은 한 번 참고 해보시면 좋을 것 같다.

* **정리**: 디자인 스프린트는 어떻게 진행해야 하는지, 다크 테마는 어떻게 디자인해야 하는지, 또, ML kit에서의 머터리얼 디자인에 대해 발표하셨다.
* **느낀점**: 구글 IO에 가면 얻을 수 있는 장점과 나는 개발자지만 디자이너의 고민, 고충 등을 느낄 수 있었다. 나중에 디자이너와 소통할 때 좋은 거름이 될 것 같다.

## New Android Decorative UI Pattern - 이승민(레이니스트)
* [발표자료](http://bit.ly/2FljGEp)

* 안드로이드가 계속 많은 변화를 겪어왔음에도 불구하고 UI, View의 코드는 유지보수가 잘되지 않았다. 그 이유는 SDK와 함께 UI가 변해왔기 때문에 UI를 업데이트를 하려면 SDK를 올려야 한다는 점이다.

* 일단 View가 너무 복잡한 구조를 가지고 있다 알아야할 부모가 많은 것. 그리고 코드가 매우 많다.

* 또한 우리가 MVVM, MVP, MVI를 쓰는 이유는 View State를 분리하기 위해서이다. 또, 그 이유는 View에 data flow가 있기 때문에 아키텍처에 대해 많은 고민을 하는 것이다.

* 그래서 문제점은 View가 data를 들고 있다는 점이다. 결국 이 문제를 해결하려면 UI와 SDK를 분리하여 UI를 코드로 작성할 수 있도록 해야 한다.

* Single data flow를 위해서 나온 것이 바로 Jetpack Compose다. 지금은 Kotlin만 지원 한다. (Kotlin First)

* Declarative Programming은 선언형(함수형) 프로그래밍이다. 우리가 알고리즘을 만들 때 썼던 것들은 명령형이다.

* 그럼 함수형 프로그래밍은 데이터를 계속 반환하는 프로그래밍이다.

* Declarative UI Programming은 View를 계속 반환하는 프로그래밍인 것이다.

* @Composable 어노테이션을 붙여주면 그 함수는 View를 반환한다.

* 근데 재미있는 건 @Composable을 붙인 함수는 View를 반환하지만 그 안에 있는 TextView() 이런 것들도 Composable이다.

* 이 것이 왜 좋냐면 우리가 ListView를 만들 때 어댑터를 만드는데 Composable은 그냥 for문 돌리면 끝이다.

* Data Observe도 지원한다. 즉, 데이터 바인딩처럼 그냥 데이터가 바뀌면 UI가 바뀐다.

* Live Data도 필요가 없는게 그냥 @Model 어노테이션이라는 것도 지원을해서 그 data class의 데이터가 바뀌면 값이 바로 바뀐다.

* Event도 그냥 코드 안에서 Clickable을 람다로 작성하면 되는데 얘도 Composable이다.

* 한번 더 말하지만 화면에서 관리하는 데이터를 뷰로 내리고 뷰에서 발생하는 이벤트를 화면에서 넘겨준 람다로 올리는 데이터 플로우를 통합한 Single Data Flow인 것이다.

* 정리하자면 Google이 이걸 바꾼 이유는 Unbundle 때문이고 Single Data Flow라는 것 때문에 개발자가 엄청 영향을 받을 것이다.

* 그리고 마이그레이션하고 싶다면 @GenerateView 어노테아션을 붙여서 할 수 있다.

* Compose 사용하려면 직접 빌드해야 한다. 하고 싶으면 프루님 블로그보면 된다.

* 이제는 정말 새로운 안드로이드 스튜디오가 나올 것이다.

* 이걸 잘하고 싶다면 Flutter, Redux/React, MVI를 공부하면 좋다.

* **정리**: 구글은 View와 SDK를 분리하고 Single Data Flow를 만들기 위해서 Compose를 만들었다. 이 Compose는 함수형으로 작성하며 코드로 UI를 작성한다. 아직 못쓴다.
* **느낀점**: 정말 기대된다. UI를 작성하는데 더 이상 xml을 사용하지 않고 코드로 작성할 수 있다니 정말 기대가 되는 기능이다. 빨리 써보고 싶다.